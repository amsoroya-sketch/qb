# docker-compose.override.yml.example
# Copy this file to docker-compose.override.yml and customize for your local environment
# This file is used by docker-compose automatically and overrides values from docker-compose.yml

version: '3.8'

services:
  postgres:
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: local-dev-password-change-me
      POSTGRES_DB: arq_dev
    ports:
      - '5433:5432'

  backend:
    environment:
      DATABASE_URL: postgresql://postgres:local-dev-password-change-me@postgres:5432/arq_dev
      JWT_ACCESS_SECRET: local-dev-jwt-access-secret-min-32-chars
      JWT_REFRESH_SECRET: local-dev-jwt-refresh-secret-min-32-chars
      JWT_SECRET: local-dev-jwt-secret-at-least-32-chars
      REFRESH_TOKEN_SECRET: local-dev-refresh-token-secret-32-chars
      NODE_ENV: development
    # Uncomment to enable debug port
    # ports:
    #   - '3001:3001'
    #   - '9229:9229'
    # command: npm run start:debug

  frontend:
    environment:
      NEXT_PUBLIC_API_URL: http://localhost:3001/api/v1
      NODE_ENV: development
